'use strict';define(["jquery"],function(e){const m=function(d,b){function f(a){let g=d.updateInterval||1E3;c&&a.questionTimeLeft&&-1<a.questionTimeLeft&&a.questionTimeLeft/1E6<=g&&(g=a.questionTimeLeft/1E6,c=!1);return g}let c=!1;const h=function(a){c=!1;a=d.createAnswerRequest(this.id,a);a=e.post(a.url,a.data);a.then(k,l);return a},l=b.reject.bind(b),k=function(a){a?.id&&a?.state&&a?.progress?("WAITING"===a.state?c||(b.notify(a,h.bind(a)),c=!0):(c=!1,b.notify(a)),"FINISHED"===a.state?b.resolve(a):
setTimeout(function(){const g=d.createStatusRequest(a.id);e.get(g.url,g.data).then(k,l)},f(a))):b.resolve(a)};return{answerJobQuestion:h,onFailure:l,onProgress:k}};return function(d){this.resume=function(b){const f=e.Deferred(),c=m(d,f);b=d.createStatusRequest(b);e.get(b.url,b.data).then(c.onProgress,c.onFailure);return f};this.run=function(b,f){const c=e.Deferred(),h=m(d,c);e.post(b,f).then(h.onProgress,h.onFailure);return c};return this}});
//# sourceMappingURL=jobRunner.min.js.map
